<odoo>
    <!-- Kanban view -->
    <record id="view_workshop_employee_kanban" model="ir.ui.view">
        <field name="name">workshop.employee.kanban</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.hr_kanban_view_employees" />
        <field eval="1" name="priority" />
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="inside">
                <field name="is_workshop_employee" />
                <field name="employee_type" />
                <field name="is_available" />
            </xpath>
            <xpath expr="//kanban//templates/t[@t-name='card']" position="inside">
                <t t-name="card">
                    <div class="d-flex">
                        <div class="me-2">
                            <field name="avatar_128" widget="image"
                                options="{'size': [100, 100]}" />
                        </div>
                        <div class="p-2">
                            <div>
                                <strong>
                                    <field name="name" />
                                </strong>
                            </div>
                            <div>
                                <field name="email" />
                            </div>
                            <div>
                                <field name="phone" />
                            </div>
                            <div
                                t-if="record.is_workshop_employee.value"
                                class="text-success small">
                                <i class="fa fa-wrench" /><span> Workshop </span>
                            </div>
                            <div
                                t-if="record.employee_type.value" class="text-muted small">
                                <field name="employee_type" />
                            </div>
                            <div class="text-danger small"> 
                            </div>
                        </div>
                    </div>
                </t>
            </xpath>
        </field>
    </record>

    <!-- List view -->
    <record id="view_workshop_employee_list" model="ir.ui.view">
        <field name="name">workshop.employee.list</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_tree" />
        <field name="arch" type="xml">
            <xpath expr="//list" position="attributes">
                <attribute name="default_order">name asc</attribute>
            </xpath>
            <xpath expr="//field[@name='name']" position="after">
                <field name="is_workshop_employee" invisible="1" />
                <field name="employee_type" />
                <field name="email" />
                <field name="phone" />
                <field name="is_available" widget="boolean" />
            </xpath>
        </field>
    </record>

    <!-- Form view -->
    <record id="view_workshop_employee_form" model="ir.ui.view">
        <field name="name">workshop.employee.form</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form" />
        <field name="arch" type="xml">
            <xpath expr="//div[@name='button_box']" position="before">
                <field name="is_workshop_employee" invisible="1" />
            </xpath>
            <xpath expr="//page[@name='personal_information']//group//group" position="inside">
                <group string="Workshop">
                    <field name="employee_type"
                        required="('is_workshop_employee', '=', True)" />
                    <field name="is_available" />
                    <field name="is_workshop_employee" />
                </group>
            </xpath>
            <xpath expr="//notebook" position="inside">
                <page string="Mantenimientos" name="workshop_maintenances"
                    invisible="('is_workshop_employee', '=', False)">
                    <field name="maintenance_ids" context="{'default_mechanic_id': id}"
                        mode="kanban">
                        <kanban>
                            <field name="name" />
                            <field name="vehicle_id" />
                            <field name="state" />
                            <field name="priority" />
                            <templates>
                                <t t-name="card">
                                    <div class="oe_kanban_global_click">
                                        <div class="o_kanban_details">
                                            <strong class="o_kanban_record_title">
                                                <field name="name" />
                                            </strong>
                                            <div class="text-muted"> Vehicle: <field
                                                    name="vehicle_id" />
                                            </div>
                                            <div>
                                                <field name="state" widget="badge" />
                                            </div>
                                            <div class="text-end">
                                                <field name="priority" widget="priority" />
                                            </div>
                                        </div>
                                    </div>
                                </t>
                            </templates>
                        </kanban>
                    </field>
                </page>
            </xpath>
        </field>
    </record>

    <!-- Action views -->
    <record id="action_employee" model="ir.actions.act_window">
        <field name="name">Workshop employees</field>
        <field name="res_model">hr.employee</field>
        <field name="view_mode">kanban,list,form</field>
        <!-- DOMINIO AÃ‘ADIDO -->
        <field name="domain">[('is_workshop_employee', '=', True)]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                There are no registered workshop employees.
            </p>
            <p>
                The workshop's employees include mechanics, apprentices, administrative staff and
                workshop managers.
            </p>
        </field>
    </record>
</odoo>